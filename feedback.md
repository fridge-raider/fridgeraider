CODE REVIEW 2

- replace for loops with foreach and map and filter and reduce (if possible) - CHAINING
- name functions better
- modularize
